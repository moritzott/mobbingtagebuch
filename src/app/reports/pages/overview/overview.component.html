<div class="animate-right-in">
    <div class="explanation-container mt-6">
        <h1 class="title">Berichte</h1>
        <div class="block">
            <p>
                Die Übersicht dient zum Überblick und zur Auswahl von Berichten
                sowie dem Bearbeiten oder Löschen.
            </p>
        </div>
    </div>
    <!-- if there are reports, show them in a table -->
    <div *ngIf="reports.length !== 0">
        <div class="table-container mt-2">
            <table class="table is-hoverable is-fullwidth">
                <tr>
                    <th>Datum</th>
                    <th>Uhrzeit</th>
                    <th>Was ist geschehen</th>
                    <th>Aktionen</th>
                </tr>
                <tr
                    *ngFor="let report of reports"
                    [ngClass]="{ 'is-selected': selectedReport === report }"
                >
                    <td class="pt-4">{{ report.date | date:'dd.MM.yy' }}</td>
                    <td class="pt-4">{{ report.time }} Uhr</td>
                    <td class="pt-4">{{ report.whatHappened | truncate }}</td>
                    <td>
                        <button
                            class="button is-primary is-light mr-2"
                            (click)="readReport(report)"
                        >
                            <span class="material-icons"> text_snippet </span>
                        </button>
                        <button
                            class="button is-primary is-light mr-2"
                            (click)="editReport(report)"
                        >
                            <span class="material-icons"> edit </span>
                        </button>
                        <button
                            class="button is-primary is-light"
                            (click)="deleteReport(report.id)"
                        >
                            <span class="material-icons"> delete </span>
                        </button>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <!-- when no reports are available: show info text with link to create a report -->
    <div class="empty-container my-6" *ngIf="reports.length === 0">
        <h2 class="subtitle">Keine Berichte.</h2>
        <div class="block">
            <p>
                Es sieht so aus als haben Sie keine Berichte bislang angelegt.
                <a class="is-ghost" routerLink="/reports/new"
                    >Legen Sie am besten einen an.</a
                >
            </p>
        </div>
    </div>
</div>
